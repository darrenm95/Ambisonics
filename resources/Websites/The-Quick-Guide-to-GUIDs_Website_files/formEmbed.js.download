if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(let i=0;i<this.length;i++){callback.call(thisArg,this[i],i,this);}};}
(function(arr){arr.forEach(function(item){if(item.hasOwnProperty('remove')){return;}
Object.defineProperty(item,'remove',{configurable:true,enumerable:true,writable:true,value:function remove(){if(this.parentNode!==null)
this.parentNode.removeChild(this);}});});})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);window.emailOctopus={successMessage:'Thanks for subscribing!',missingEmailAddressMessage:'Your email address is required.',invalidEmailAddressMessage:'Your email address looks incorrect, please try again.',botSubmissionErrorMessage:'This doesn\'t look like a human submission.',consentRequiredMessage:'Please check the checkbox to indicate your consent.',invalidParametersErrorMessage:'This form has missing or invalid fields.',unknownErrorMessage:'Sorry, an unknown error has occurred. Please try again later.',isBotPost:function(form){var hpInput=form.querySelector('.email-octopus-form-row-hp input');return Boolean(hpInput.value);},isEmailAddressValid:function(form){var emailAddress=form.querySelector('input[type=email]').value.trim();return /\S+@\S+\.\S+/.test(emailAddress);},hasEmailAddressBeenEntered:function(form){var emailAddress=form.querySelector('input[type=email]').value.trim();return Boolean(emailAddress);},consentRequired:function(form){var checkbox=form.querySelector('.email-octopus-form-row-consent input');return Boolean(checkbox&&!checkbox.checked);},hasRedirectUrl:function(form){return Boolean(emailOctopus.getRedirectUrl(form));},getRedirectUrl:function(form){var redirectInput=form.querySelector('input[name=successRedirectUrl]');return redirectInput?redirectInput.value.trim():null;},redirect:function(url){window.location.href=url;},showConfirmation:function(form,response){var message=response.message?response.message:emailOctopus.successMessage;form.style.display='none';form.parentNode.querySelector('.email-octopus-success-message').textContent=message;},ajaxSuccess:function(form,textStatus){var response=JSON.parse(textStatus);emailOctopus.hasRedirectUrl(form)?emailOctopus.redirect(emailOctopus.getRedirectUrl(form)):emailOctopus.showConfirmation(form,response);},ajaxError:function(form,textStatus){var response=JSON.parse(textStatus);if(response&&response.error&&response.error.code){switch(response.error.code){case 'INVALID_PARAMETERS':emailOctopus.onError(form,emailOctopus.invalidParametersErrorMessage);return;case 'BOT_SUBMISSION':emailOctopus.onError(form,emailOctopus.botSubmissionErrorMessage);return;}}
emailOctopus.onError(form,emailOctopus.unknownErrorMessage);},ajaxSubmit:function(form){form.querySelector('[type=submit]').setAttribute('disabled',true);var data=[];form.querySelectorAll('input[name]').forEach(function(input){var name=input.getAttribute('name');var value=input.value;data.push(encodeURIComponent(name)+'='+encodeURIComponent(value));});var request=new XMLHttpRequest();request.open('POST',form.getAttribute('action'),true);request.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');request.send(data.join('&'));request.onreadystatechange=function(){if(request.readyState===4&&request.status===200){emailOctopus.ajaxSuccess(form,request.responseText);}
if(request.readyState===4&&request.status>=400){emailOctopus.ajaxError(form,request.responseText);}}},onError:function(form,message){form.parentNode.querySelector('.email-octopus-error-message').textContent=message;form.querySelector('[type=submit]').removeAttribute('disabled');if(form.getAttribute('data-widget-id')&&window.grecaptcha){window.grecaptcha.reset(form.getAttribute('data-widget-id'));}
var recaptchaResponse=form.querySelector('input[name=g-recaptcha-response]');if(recaptchaResponse){recaptchaResponse.remove();}},submit:function(form){form.parentNode.querySelector('.email-octopus-error-message').textContent='';if(emailOctopus.isBotPost(form)){emailOctopus.onError(form,emailOctopus.botSubmissionErrorMessage);}else if(!emailOctopus.hasEmailAddressBeenEntered(form)){emailOctopus.onError(form,emailOctopus.missingEmailAddressMessage);}else if(!emailOctopus.isEmailAddressValid(form)){emailOctopus.onError(form,emailOctopus.invalidEmailAddressMessage);}else if(emailOctopus.consentRequired(form)){emailOctopus.onError(form,emailOctopus.consentRequiredMessage);}else{emailOctopus.ajaxSubmit(form);}}};if(window.location.href.indexOf('eoDebug=1')!==-1){var src='https://emailoctopus.com/bundles/emailoctopuslist/js/1.5/debug.js';var formAction=document.querySelector('.email-octopus-form').action;if(formAction){var a=document.createElement('a');a.href=formAction;src=a.protocol+'//'+a.hostname+'/bundles/emailoctopuslist/js/1.5/debug.js';}
var scr=document.createElement('script');var head=document.head||document.getElementsByTagName('head')[0];scr.src=src;scr.async=false;scr.defer=false;head.insertBefore(scr,head.firstChild);}
(function(){var init=function(){document.querySelectorAll('.email-octopus-form:not(.bound)').forEach(function(form){form.classList.add('bound');form.addEventListener('submit',function(event){var form=event.target;if(form.querySelector('.g-recaptcha')&&!form.querySelector('input[name=g-recaptcha-response]')){return;}
event.preventDefault();event.stopPropagation();event.stopImmediatePropagation();emailOctopus.submit(form);});});};if(document.readyState!=='loading'){init();}else{document.addEventListener('DOMContentLoaded',init);}})();